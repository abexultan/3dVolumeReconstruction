#include "realtime.h"

int main(int argc, char** argv)
{
    if (argc < 2) {
        puts("Please specify a bag file");
        exit(1);
    }
    ros::init(argc, argv, "realtime");    // Definining transformation
    // TODO: input as argv[2]
    R2 << 0.017089581117, 0.567765116692, -0.823013186455,
    -0.635892510414, 0.641384720802, 0.429262548685,
    0.771588385105, 0.516012012959, 0.371998608112;
    t2 << 2.003372192383, -1.146584749222, 1.517305612564;

    R3 << -0.996897927838034, -0.076647005937153, 0.017882890808248,
    -0.011468844480656, 0.366254727662588, 0.930443944458681,
    -0.077865432894280, 0.927352535179029, -0.365997657904492;
    t3 << -0.066353767202088, -2.358839779363984, 3.119342204736189;

    R4 << 0.082700528204, -0.542847037315, 0.835749804974 ,
    0.594851434231, 0.699731409550, 0.395635843277,
   -0.799570143223, 0.464427679777, 0.380781501532;
    t4 << -2.032633781433, -1.144315004349, 1.418610095978;
    T2 << R2, t2, Eigen::MatrixXf::Zero(1, 3), Eigen::MatrixXf::Identity(1, 1);
    T3 << R3, t3, Eigen::MatrixXf::Zero(1, 3), Eigen::MatrixXf::Identity(1, 1);
    T4 << R4, t4, Eigen::MatrixXf::Zero(1, 3), Eigen::MatrixXf::Identity(1, 1);
    process_clouds(std::string(argv[1]));
}
